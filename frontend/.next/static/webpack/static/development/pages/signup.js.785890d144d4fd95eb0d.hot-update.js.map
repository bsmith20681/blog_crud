{"version":3,"file":"static/webpack/static\\development\\pages\\signup.js.785890d144d4fd95eb0d.hot-update.js","sources":["webpack:///./src/components/auth/SignupComponent.js"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport {signup, isAuth} from '../../../actions/auth'\r\nimport Router from 'next/router'\r\n\r\nconst SignupComponent = () => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    loading: false,\r\n    message: '',\r\n    showForm: false\r\n   })\r\n\r\n  const {name, email, password, error, loading, message, showForm} = values\r\n\r\n  useEffect(() => {\r\n    isAuth() && Router.push(`/`);\r\n  }, [])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log('handingl submit')\r\n    setValues({...values, loading: true, error: false})\r\n    const user = {name, email, password}\r\n\r\n    signup(user)\r\n    .then(data => {\r\n      if(data.error) {\r\n        setValues({...values, error: data.error})\r\n      } else {\r\n        setValues({...values, name: '', email: '', password: '', error: '', loading: false, message: data.message })\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleChange = name => e => {\r\n    setValues({...values, error: false, [name]: e.target.value})\r\n  }\r\n\r\n  const showLoading = () => (loading ? <div className=\"alert alert-info\"> Loading... </div> : '');\r\n  const showError = () => (error ? <div className=\"alert alert-danger\">{error}</div> : '');\r\n  const showMessage = () => (message ? <div className=\"alert alert-info\"> {message} </div> : '');\r\n\r\n\r\n  const signupForm = () => {\r\n    return(\r\n      <div class=\"container\">\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <input value={name} onChange={handleChange('name')} type=\"text\" className=\"form-control\" placeholder=\"Type your name\"/>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input value={email} onChange={handleChange('email')} type=\"email\" className=\"form-control\" placeholder=\"Type your email\"/>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input value={password} onChange={handleChange('password')} type=\"password\" className=\"form-control\" placeholder=\"Type your password\"/>\r\n          </div>\r\n\r\n          <div>\r\n            <button class=\"btn btn-primary\">Sign Up</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showError()}\r\n      {showLoading()}\r\n      {showMessage()}\r\n      <h1>This is the sign up page</h1>\r\n      /*{showForm && signupForm()}*/\r\n      {signupForm()}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default SignupComponent\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}